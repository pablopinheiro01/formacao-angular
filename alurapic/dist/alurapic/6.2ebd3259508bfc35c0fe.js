(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"4zk1":function(t,e,n){"use strict";n.r(e),n.d(e,"PhotosModule",(function(){return M}));var r=n("tk/3"),s=n("ofXK"),o=n("fXoL");let i=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[s.c]]}),t})(),c=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[s.c]]}),t})(),a=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[s.c,r.b]]}),t})(),u=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[s.c]]}),t})(),p=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[s.c,a,c,u]]}),t})();var l=n("tyNb");const b="http://localhost:3000";let h=(()=>{class t{constructor(t){this.http=t}listFromUser(t){return this.http.get(b+"/"+t+"/photos")}listFromUserPaginated(t,e){const n=(new r.c).append("page",e.toString());return this.http.get(b+"/"+t+"/photos",{params:n})}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(r.a))},t.\u0275prov=o.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=n("XNiG"),d=n("Kj3r");let m=(()=>{class t{constructor(){this.onTyping=new o.n,this.value="",this.debounce=new f.a}ngOnInit(){this.debounce.pipe(Object(d.a)(300)).subscribe(t=>this.onTyping.emit(t))}ngOnDestroy(){this.debounce.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Bb({type:t,selectors:[["ap-search"]],inputs:{value:"value"},outputs:{onTyping:"onTyping"},decls:4,vars:1,consts:[[1,"text-center","mt-3","mb-3"],["aria-hidden","true",1,"fa","fa-search","mr-1"],["type","search","placeholder","search...","autofocus","",1,"rounded",3,"value","keyup"]],template:function(t,e){1&t&&(o.Kb(0,"div",0),o.Kb(1,"form"),o.Ib(2,"i",1),o.Kb(3,"input",2),o.Qb("keyup",(function(t){return e.debounce.next(t.target.value)})),o.Jb(),o.Jb(),o.Jb()),2&t&&(o.xb(3),o.Yb("value",e.value))},encapsulation:2}),t})(),g=(()=>{class t{constructor(t,e){this.el=t,this.render=e}darkenOn(){this.render.setStyle(this.el.nativeElement,"opacity","0.5")}darkenOff(){this.render.setStyle(this.el.nativeElement,"opacity","1")}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(o.l),o.Hb(o.D))},t.\u0275dir=o.Cb({type:t,selectors:[["","apDarkenOnHover",""]],hostBindings:function(t,e){1&t&&o.Qb("mouseover",(function(){return e.darkenOn()}))("mouseleave",(function(){return e.darkenOff()}))}}),t})();const v=["*"];let y=(()=>{class t{constructor(){this.title=""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Bb({type:t,selectors:[["ap-card"]],inputs:{title:"title"},ngContentSelectors:v,decls:5,vars:1,consts:[[1,"card","border-light","text-center"],[1,"card-header"],[1,"card-block","text-justify"]],template:function(t,e){1&t&&(o.Xb(),o.Kb(0,"div",0),o.Kb(1,"h4",1),o.hc(2),o.Jb(),o.Kb(3,"div",2),o.Wb(4),o.Jb(),o.Jb()),2&t&&(o.xb(2),o.ic(e.title))},encapsulation:2}),t})(),w=(()=>{class t{constructor(){this.description="",this.url=""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Bb({type:t,selectors:[["ap-photo"]],inputs:{description:"description",url:"url"},decls:2,vars:2,consts:[[1,"img-thumbnail",3,"src","alt"]],template:function(t,e){1&t&&(o.Kb(0,"div"),o.Ib(1,"img",0),o.Jb()),2&t&&(o.xb(1),o.Yb("src",e.url,o.dc)("alt",e.description))},encapsulation:2}),t})();function x(t,e){1&t&&(o.Kb(0,"p",3),o.hc(1," E ai pai, foi mal sem foto na baga\xe7a ...\n"),o.Jb())}function J(t,e){if(1&t&&(o.Kb(0,"div",6),o.Kb(1,"ap-card",7),o.Ib(2,"ap-photo",8),o.Kb(3,"div",9),o.Ib(4,"i",10),o.hc(5),o.Ib(6,"i",11),o.hc(7),o.Jb(),o.Jb(),o.Jb()),2&t){const t=e.$implicit;o.xb(1),o.Yb("title",t.description),o.xb(1),o.Yb("url",t.url)("description",t.description),o.xb(3),o.jc("",t.likes," "),o.xb(2),o.jc("",t.comments," ")}}function K(t,e){if(1&t&&(o.Kb(0,"li",4),o.fc(1,J,8,5,"div",5),o.Jb()),2&t){const t=e.$implicit;o.xb(1),o.Yb("ngForOf",t)}}let O=(()=>{class t{constructor(){this.photos=[],this.rows=[]}ngOnInit(){this.rows=this.groupColumns(this.photos)}ngOnChanges(t){t.photos&&(this.rows=this.groupColumns(this.photos))}groupColumns(t){const e=[];for(let n=0;n<t.length;n+=3)e.push(t.slice(n,n+3));return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Bb({type:t,selectors:[["ap-photos"]],inputs:{photos:"photos"},features:[o.vb],decls:3,vars:2,consts:[["class","text-center text-muted",4,"ngIf"],[1,"list-unstyled"],["class","row no-gutters",4,"ngFor","ngForOf"],[1,"text-center","text-muted"],[1,"row","no-gutters"],["class","col-4","apDarkenOnHover","",4,"ngFor","ngForOf"],["apDarkenOnHover","",1,"col-4"],[3,"title"],[3,"url","description"],[1,"text-center","p-1"],["aria-hidden","true",1,"fa","fa-heart-o","fa-1x","mr-2"],["aria-hidden","true",1,"fa","fa-comment-o","fa-1x","mr-2","ml-2"]],template:function(t,e){1&t&&(o.fc(0,x,2,0,"p",0),o.Kb(1,"ol",1),o.fc(2,K,2,1,"li",2),o.Jb()),2&t&&(o.Yb("ngIf",!e.photos.length),o.xb(2),o.Yb("ngForOf",e.rows))},directives:[s.j,s.i,g,y,w],styles:[""]}),t})();function k(t,e){1&t&&(o.Kb(0,"div",2),o.Kb(1,"button",3),o.hc(2,"Load more"),o.Jb(),o.Jb())}function I(t,e){1&t&&(o.Kb(0,"p",4),o.hc(1,"No more data to load"),o.Jb())}let F=(()=>{class t{constructor(){this.hasMore=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Bb({type:t,selectors:[["ap-load-button"]],inputs:{hasMore:"hasMore"},decls:3,vars:2,consts:[["class","text-center",4,"ngIf","ngIfElse"],["messageTemplate",""],[1,"text-center"],[1,"btn","btn-primary"],[1,"text-center","text-muted"]],template:function(t,e){if(1&t&&(o.fc(0,k,3,0,"div",0),o.fc(1,I,2,0,"ng-template",null,1,o.gc)),2&t){const t=o.bc(2);o.Yb("ngIf",e.hasMore)("ngIfElse",t)}},directives:[s.j],styles:[""]}),t})(),j=(()=>{class t{transform(t,e){return(e=e.trim().toLowerCase())?t.filter(t=>t.description.toLowerCase().includes(e)):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Gb({name:"filterByDescription",type:t,pure:!0}),t})();const E=[{path:"user/:userName",component:(()=>{class t{constructor(t,e){this.activatedRoute=t,this.photoService=e,this.photos=[],this.filter="",this.hasMore=!0,this.currentPage=1,this.userName=""}ngOnInit(){this.userName=this.activatedRoute.snapshot.params.userName,this.photos=this.activatedRoute.snapshot.data.photos}load(){this.photoService.listFromUserPaginated(this.userName,this.currentPage++).subscribe(t=>{this.filter="",this.photos=this.photos.concat(t),t.length||(this.hasMore=!1)})}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(l.a),o.Hb(h))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-photo-list"]],decls:4,vars:6,consts:[[3,"value","onTyping"],[3,"photos"],[3,"hasMore","click"]],template:function(t,e){1&t&&(o.Kb(0,"ap-search",0),o.Qb("onTyping",(function(t){return e.filter=t})),o.Jb(),o.Ib(1,"ap-photos",1),o.Tb(2,"filterByDescription"),o.Kb(3,"ap-load-button",2),o.Qb("click",(function(){return e.load()})),o.Jb()),2&t&&(o.Yb("value",e.filter),o.xb(1),o.Yb("photos",o.Vb(2,3,e.photos,e.filter)),o.xb(2),o.Yb("hasMore",e.hasMore))},directives:[m,O,F],pipes:[j],styles:[""]}),t})(),resolve:{photos:(()=>{class t{constructor(t){this.service=t}resolve(t,e){return this.service.listFromUserPaginated(t.params.userName,1)}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(h))},t.\u0275prov=o.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}];let Y=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[l.d.forChild(E)],l.d]}),t})(),M=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[r.b,s.c,i,p,a,Y]]}),t})()}}]);